<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a2e; color: #fff; }
        .section { margin: 20px 0; padding: 20px; background: #16213e; border-radius: 8px; }
        .status { color: #00ff00; }
        .error { color: #ff0000; }
    </style>
</head>
<body>
    <h1>Debug Test Page</h1>

    <div class="section">
        <h2>JavaScript Loading Test</h2>
        <p id="js-status">Testing...</p>
    </div>

    <div class="section">
        <h2>GitHub API Test</h2>
        <p id="github-status">Testing...</p>
        <div id="github-result"></div>
    </div>

    <div class="section">
        <h2>DOM Elements Test</h2>
        <p id="dom-status">Testing...</p>
    </div>

    <script>
        // Test 1: JavaScript is running
        document.getElementById('js-status').innerHTML = '<span class="status">✓ JavaScript is running</span>';
        console.log('✓ JavaScript loaded successfully');

        // Test 2: GitHub API
        async function testGitHubAPI() {
            const statusEl = document.getElementById('github-status');
            const resultEl = document.getElementById('github-result');

            try {
                statusEl.textContent = 'Fetching from GitHub API...';
                const response = await fetch('https://api.github.com/users/mrtsubasa/repos?sort=updated&per_page=5');

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const repos = await response.json();
                statusEl.innerHTML = `<span class="status">✓ GitHub API working - Found ${repos.length} repos</span>`;

                resultEl.innerHTML = '<h3>First 5 repos:</h3>' +
                    repos.map(r => `<div>- ${r.name} (${r.language || 'No language'})</div>`).join('');

                console.log('✓ GitHub API test passed', repos);
            } catch (error) {
                statusEl.innerHTML = `<span class="error">✗ GitHub API Error: ${error.message}</span>`;
                console.error('✗ GitHub API test failed:', error);
            }
        }

        // Test 3: DOM Elements
        function testDOMElements() {
            const statusEl = document.getElementById('dom-status');
            const elementsToCheck = [
                'github-projects',
                'designs-grid',
                'team-grid',
                'repos-count',
                'stars-count',
                'forks-count'
            ];

            const results = elementsToCheck.map(id => {
                const el = document.getElementById(id);
                const exists = el !== null;
                return `<div>${exists ? '✓' : '✗'} ${id}: ${exists ? 'Found' : 'Missing'}</div>`;
            });

            statusEl.innerHTML = '<span class="status">DOM Element Check:</span>' + results.join('');
            console.log('✓ DOM elements test completed');
        }

        // Run tests
        testGitHubAPI();
        testDOMElements();
    </script>
</body>
</html>
